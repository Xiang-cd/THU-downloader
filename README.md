# 清华云盘和清华邮箱批量下载工具

### 此工具支持:

- 自己已有仓库的选择批量下载(支持选择下载)
- 清华邮箱分享链接下载(支持选择下载)
- 清华邮箱邮件的批量下载(eml格式, 包含附件)
- 一键安装运行
- 支持图形界面
- 协程高并发(2s下完1000+邮件)

如果你苦恼于:
- 需要大规模迁移清华云盘中的内容但不想手动逐个点击下载 
- 分享链接中的内容太大导致无法在网站一次性下载, 
- 需要备份自己的邮箱但懒得手动下载

那这个工具会很实用! 如果这个工具对你有用, 可以给个star~



TODO:

- [x] windows bat脚本
- [x] 写个登录界面
- [x] 更高并发(真快!)
- [x] 支持链接下载, 支持连接中一级列表选择
- [x] 邮箱附件下载
- [ ] 更细粒度选择
- [ ] 更多应用集成...

使用问题可以联系作者微信`xxyaw-`。



### 使用方法(路径中需要有能够使用的python3环境):

mac, linux用户, clone后直接运行, 代码会自动搭建虚拟环境:
```shell
./run.sh
```

如果你对python环境管理很熟悉, 可以在本地进行依赖库的安装:

```
pip install gradio==3.35.2 -i https://pypi.tuna.tsinghua.edu.cn/simple
gradio app.py
```



随后点击生成的链接。

```shell
Launching in *reload mode* on: http://127.0.0.1:7860 (Press CTRL+C to quit)


Running on local URL:  http://127.0.0.1:7861

To create a public link, set `share=True` in `launch()`.
```

输入用户名和密码, 点击登录, 切换tab, 输入目标的下载路径, 点击全部下载就能将所有的仓库按照原结构下载到目标路径, 如果只希望下载部分仓库, 则进行勾选后, 点击`选择下载`。

对于链接下载, 切换到链接下载tab, 直接输入链接并解析, 选择路径并下载即可。

对于邮箱下载, 切换到邮箱tab, 输入保存的地址, 点击下载即可。



### 性能测试

|任务 | 使用携程 | 不使用协程 |
|-|- | - |
|大文件下载(14个文件, 455MB) | 27.56s |  29.15s |
|小文件下载(68个文件, 56MB) | 4.82s |  27.88s|

使用协程能够极大提升小文件的下载速度。