# ARBæ–‡ä»¶ç®¡ç† Makefile

# åˆå¹¶æ¨¡å—ARBæ–‡ä»¶å¹¶ç”Ÿæˆæœ¬åœ°åŒ–æ–‡ä»¶
.PHONY: build-l10n
build-l10n:
	@echo "ğŸ”„ åˆå¹¶ARBæ–‡ä»¶..."
	@dart scripts/merge_arb.dart
	@echo "ğŸ”„ ç”Ÿæˆæœ¬åœ°åŒ–æ–‡ä»¶..."
	@flutter gen-l10n
	@echo "âœ… æœ¬åœ°åŒ–æ„å»ºå®Œæˆï¼"

# ä»…åˆå¹¶ARBæ–‡ä»¶
.PHONY: merge-arb
merge-arb:
	@echo "ğŸ”„ åˆå¹¶ARBæ–‡ä»¶..."
	@dart scripts/merge_arb.dart

# ä»…ç”Ÿæˆæœ¬åœ°åŒ–æ–‡ä»¶
.PHONY: gen-l10n
gen-l10n:
	@echo "ğŸ”„ ç”Ÿæˆæœ¬åœ°åŒ–æ–‡ä»¶..."
	@flutter gen-l10n

# æ¸…ç†ç”Ÿæˆçš„æ–‡ä»¶
.PHONY: clean-l10n
clean-l10n:
	@echo "ğŸ§¹ æ¸…ç†æœ¬åœ°åŒ–æ–‡ä»¶..."
	@rm -f lib/l10n/app_*.arb
	@rm -rf .dart_tool/flutter_gen/

# æŸ¥çœ‹æ–‡ä»¶ç»“æ„
.PHONY: show-structure
show-structure:
	@echo "ğŸ“ é¡¹ç›®å›½é™…åŒ–æ–‡ä»¶ç»“æ„:"
	@echo "lib/l10n/"
	@ls -la lib/l10n/ | grep -E '\.(arb|yaml)$$' || true
	@echo "\nlib/l10n/modules/"
	@ls -la lib/l10n/modules/ | grep '\.arb$$' || true

# å¸®åŠ©ä¿¡æ¯
.PHONY: help
help:
	@echo "ğŸš€ ARBæ–‡ä»¶ç®¡ç†å‘½ä»¤:"
	@echo "  make build-l10n     - å®Œæ•´æ„å»º(åˆå¹¶+ç”Ÿæˆ)"
	@echo "  make merge-arb      - ä»…åˆå¹¶æ¨¡å—ARBæ–‡ä»¶"
	@echo "  make gen-l10n       - ä»…ç”Ÿæˆæœ¬åœ°åŒ–æ–‡ä»¶" 
	@echo "  make clean-l10n     - æ¸…ç†ç”Ÿæˆçš„æ–‡ä»¶"
	@echo "  make show-structure - æŸ¥çœ‹æ–‡ä»¶ç»“æ„" 